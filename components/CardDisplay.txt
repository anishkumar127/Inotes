import { useState, useEffect, useRef } from "react";
import Offcanvas from "react-bootstrap/Offcanvas";
import Container from "react-bootstrap/Container";
import Nav from "react-bootstrap/Nav";
import Navbar from "react-bootstrap/Navbar";
import Form from "react-bootstrap/Form";
import Button from "react-bootstrap/Button";

import Image from "next/image";
import light from "../assets/images/light.svg";
import dark from "../assets/images/moon.svg";
// import { Card } from "react-bootstrap";
import Card from "react-bootstrap/Card";

const CardDisplay = ({
  data,
  handleUpdate,
  handleDelete,
  setIsSearch,
  isSearch,
  searchText,
}: any) => {
  return (
    <div>
      {isSearch ? null : (
        <div className="containerStyleCard d-flex gap-3 flex-wrap position-absolute card-top">
          {data
            .filter((item: any) => {
              return searchText.toLowerCase() === ""
                ? item
                : item.title.toLowerCase().includes(searchText);
            })
            .map((item: any, index: number) => {
              const { title, desc, time, type } = item;
              return (
                <Card key={index} style={{ width: "18rem" }}>
                  <Card.Body>
                    <Card.Title className="text-center">{title}</Card.Title>
                    <Card.Text>
                      Description: <b>{desc}</b>{" "}
                    </Card.Text>
                    <Card.Text>
                      Time: <b>{time}</b>{" "}
                    </Card.Text>
                    <Card.Text>
                      Type: <b>{type}</b>
                    </Card.Text>
                    <div className="text-end">
                      <Button
                        variant="success"
                        onClick={() => handleUpdate(index)}
                      >
                        Edit
                      </Button>
                      <Button
                        variant="danger"
                        className="ms-2"
                        onClick={() => handleDelete(index)}
                      >
                        Delete
                      </Button>
                    </div>
                  </Card.Body>
                </Card>
              );
            })}
        </div>
      )}
    </div>
  );
};

export default CardDisplay;
